
var BrowseBaseManager=jsloader.resolve("freequery.querybrowser.BrowseBaseManager");var TreeWrapper=jsloader.resolve("freequery.resourcemanager.TreeWrapper");var CatalogDisplayCommandFactory=jsloader.resolve("freequery.catalogdisplay.CatalogDisplayCommandFactory");var CatalogDisplayManager=function(treeSlot,viewSlot,action){this.managerName="CatalogDisplayManager";this.leftViewStatus="CatalogDisplayLeftViewStatus";this.treeSlot=treeSlot;this.viewSlot=viewSlot;this.action=action;registry.put("CatalogDisplayManager"+this.action.id,this);CatalogDisplayManager.superclass.constructor.call(this,treeSlot,viewSlot);};lang.extend(CatalogDisplayManager,BrowseBaseManager);CatalogDisplayManager.prototype.destroy=function(){CatalogDisplayManager.superclass.destroy.call(this);this.action=null;if(this.CatalogDisplayManagerTreeWrapper){this.CatalogDisplayManagerTreeWrapper.destroyTree();this.CatalogDisplayManagerTreeWrapper=null;}};CatalogDisplayManager.prototype.init=function(){CatalogDisplayManager.superclass.init.call(this);this.commandFactory.getCommand("DefaultCommand").execute(this.action.id);};CatalogDisplayManager.prototype.getCommandFactory=function(){return new CatalogDisplayCommandFactory(this.action.id);};CatalogDisplayManager.prototype.showCatalogDisplayManagerTree=function(){if(!this.CatalogDisplayManagerTreeWrapper){this.CatalogDisplayManagerTreeWrapper=new TreeWrapper({className:"freequery.catalogdisplay.FlatCatalogDisplayTree",imgType:"Browser",title:this.action.text,backgroundColor:"#FDFDFD"},this.action.id);}
this.currentTreeWrapper=this.CatalogDisplayManagerTreeWrapper;};