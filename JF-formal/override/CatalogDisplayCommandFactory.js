
var BaseCommandFactory=jsloader.resolve("freequery.common.BaseCommandFactory");var CatalogDisplayCommandFactory=function(actionId){if(!CatalogDisplayCommandFactoryMap[actionId]){CatalogDisplayCommandFactoryMap[actionId]=new CatalogDisplayCommandFactoryInner(actionId);}
return CatalogDisplayCommandFactoryMap[actionId];};var CatalogDisplayCommandFactoryMap={};var CatalogDisplayCommandFactoryInner=function(actionId){CatalogDisplayCommandFactoryInner.superclass.constructor.call(this);this.cmdMapping={"SystemManagerCommand":"freequery.systemmanager.SystemManagerCommand","ResourceManagerCommand":"freequery.resourcemanager.ResourceManagerCommand","MyAccountCommand":"freequery.myaccount.MyAccountCommand","JumpCommand":"freequery.jump.JumpCommand","MacroCommand":"freequery.jump.MacroCommand","TransformCommand":"freequery.jump.TransformCommand","ConfigCommand":"freequery.config.ConfigCommand","WelcomeCommand":"freequery.main.WelcomeCommand","DataSourceCommand":"freequery.datasource.DataSourceCommand","QueryViewCommand":"freequery.query.QueryViewCommand","UserManagerCommand":"bof.usermanager.UserManagerCommand","MainFrameCommand":"freequery.main.MainFrameCommand","SecurityCommand":"freequery.permission.SecurityCommand","SystemResourceCommand":"freequery.sysresource.SystemResourceCommand","BusinessViewCommand":"freequery.businessview.BusinessViewCommand","TableRelationCommand":"freequery.relationpane.TableRelationCommand","DefaultCommand":"freequery.catalogdisplay.CatalogDisplayDefaultCommand","URLLinkCommand":"freequery.sysresource.URLLinkCommand","FileResourceCommand":"freequery.sysresource.FileResourceCommand","ResAuditCommand":"freequery.resaudit.ResAuditCommand","ResInfoCommand":"freequery.resaudit.ResInfoCommand","ManageReportCommand":"freequery.report.ManageReportCommand","CreateDashboardCommand":"bof.decisionpanel.dashboard.DashboardAction","TempTableCommand":"freequery.uniondata.TempTableCommand","OlapQueryCommand":"bof.olapquery.OlapQueryCommand"};this.actionId=actionId;this.defaultCommandName="DefaultCommand";this.treeName="CatalogDisplayTree"+this.actionId;this.commandFactoryName="CatalogDisplayCommandFactoryInner"+this.actionId;};lang.extend(CatalogDisplayCommandFactoryInner,BaseCommandFactory);CatalogDisplayCommandFactoryInner.prototype.getCommand=function(command){this.prevCommand=this.currentCommand;this.onGetCommand=false;var mappingClassName=this.cmdMapping[command];if(mappingClassName==null)
return null;var mappingClass=jsloader.resolve(mappingClassName);this.cmd[command]=new mappingClass();this.cmd[command].commandFactory=this;if(this.commandFactoryName&&this.cmd[command].setCommandFactoryName)
this.cmd[command].setCommandFactoryName(this.commandFactoryName);this.currentCommand=this.cmd[command];if(this.currentCommand.onClose)
this.currentCommand.onClose.subscribe(this.doOnCommandClose,this);if(this.currentCommand.needRefresh)
this.currentCommand.needRefresh.subscribe(this.doNeedRefresh,this);return this.currentCommand;};CatalogDisplayCommandFactoryInner.prototype.doOnCommandClose=function(cmd){if(this.onGetCommand)
return;cmd.close();}